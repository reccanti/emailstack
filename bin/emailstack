#!/usr/bin/env node

var compiler = require('../compiler');

/*
 * Gather command line arguments and generate
 * command line instructions
 */
var args = require('yargs')
    .usage('Usage: $0 <command> [options]')
    .command(
        'compile <inFile> <outDir> [watch]',
        'Compile an HTML file into a specified format, inline HTML by default.'
    )
    .example('$0 compile email.html dist')
    .example('$0 compile email.html dist --watch')
    .help('h')
    .alias('h', 'help')
    .argv;

/*
 * call the appropriate functions based on the arguments
 */
if (args._[0] === 'compile') {
    if (args.watch) {
        compiler.watch(args.inFile, args.outDir);
    } else {
        compiler.compile(args.inFile, args.outDir);
    }
}

// console.log(args);
